@model IEnumerable<Carrinho>
@{
    if (TempData["Exception"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            @TempData["Exception"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }
    if (TempData["SucessoMensage"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            @TempData["SucessoMensage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }
}
<div class="containerCarrinho">
    @if (Model.Count() == 0)
    {
        <h1 style="color:black;text-align:center;">Nenhum produto encontrado :(</h1>
    }
    @foreach (var item in Model)
    {
        <div class="itemCarrinho">
            <div class="imgProduto">
                <img src="~/ImagemProdutos/@item.Produto.URL_Imagem" />
            </div>
            <div class="especificacoesProduto">
                <h3 style="color:black">@item.Produto.Nome</h3>
                <p style="color:black">@item.Produto.Quantidade</p>
                <span style="color:black">Preço: @item.Produto.Valor</span>
            </div>
            <div class="acoes">
                <button class="excluirItem" onclick="removerItem(@item.Id)">
                    <i class="fas fa-trash-alt"></i> Excluir
                </button>
            </div>
        </div>
    }
</div>
@section Scripts{
    <script>
        function removerItem(id) {
            $.ajax({
                url: '/Carrinho/RemoveProduto',
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(id),
                success: function (response) {
                    window.location.reload();
                },
                error: function (e) {
                    alert("Erro ao remover produto");

                }
            });
        }
    </script>
}
